(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"API_SERVER",(function(){return b})),n.d(o,"SESSION_DURATION",(function(){return v}));var r=n(0),c=n.n(r),a=n(16),i=n.n(a),_=n(8),l=(n(25),n(3)),s=n(18),u=(n(83),n(2));var T=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"404 - Not Found!"}),Object(u.jsx)(s.b,{to:"/",children:"Go Home"})]})},A=n(38),P=n(23),O=n.n(P),d=n(34),E=n(35),j=n(36),h=n(40),R=n(39),S="";switch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_YETT:"wow",REACT_APP_DJANGO_IP:"0.0.0.0",REACT_APP_VIRTUAL_HOST:"boilerplatedockerdev.waller.rocks.",REACT_APP_MYSQL_IP:"mysql.waller.rocks",REACT_APP_DJANGO_PORT:"8009",REACT_APP_HTTP_METHOD:"HTTP",REACT_APP_REACT_PORT:"3009",REACT_APP_API_URL:":8009"}).REACT_APP_DEBUG){case 0:S="/djangoApp/";break;case 1:S="http://localhost:8009";break;default:S="/djangoApp/"}var b=S,v=864e7,p=function(e){Object(h.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(E.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={todos:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.setState({todos:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("----"),console.log(o),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_YETT:"wow",REACT_APP_DJANGO_IP:"0.0.0.0",REACT_APP_VIRTUAL_HOST:"boilerplatedockerdev.waller.rocks.",REACT_APP_MYSQL_IP:"mysql.waller.rocks",REACT_APP_DJANGO_PORT:"8009",REACT_APP_HTTP_METHOD:"HTTP",REACT_APP_REACT_PORT:"3009",REACT_APP_API_URL:":8009"})),console.log("----"),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Here are your Todos! v3 "}),Object(u.jsx)("ul",{children:Object.entries(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_YETT:"wow",REACT_APP_DJANGO_IP:"0.0.0.0",REACT_APP_VIRTUAL_HOST:"boilerplatedockerdev.waller.rocks.",REACT_APP_MYSQL_IP:"mysql.waller.rocks",REACT_APP_DJANGO_PORT:"8009",REACT_APP_HTTP_METHOD:"HTTP",REACT_APP_REACT_PORT:"3009",REACT_APP_API_URL:":8009"})).map((function(e){var t=Object(A.a)(e,2),n=t[0],o=t[1];return Object(u.jsxs)("li",{children:["$",n," -> $",o]})}))}),Object(u.jsx)("hr",{}),this.state.todos.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)("span",{children:e.description})]},e.id)}))]})}}]),n}(r.Component);var f=function(e,t){if(console.log("URLS > ",e),null!==e.token);return Object(u.jsx)("div",{children:Object(u.jsx)(s.a,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",component:p}),Object(u.jsx)(l.b,{component:T})]})})})},C=n(19),g=n(24),k=n.n(g),w="AUTH_START",D="AUTH_SUCCESS",m="AUTH_FAIL",x="AUTH_LOGOUT",H=function(e){return{type:D,token:e}},I=function(){var e=localStorage.getItem("token");return void 0===e||(k.a.post("".concat(b,"/api/auth/logout/"),{},{headers:{Authorization:"Token ".concat(e)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),localStorage.removeItem("token")),localStorage.removeItem("expirationDate"),{type:x}},U=function(e){return function(t){setTimeout((function(){t(I())}),e)}};var L=Object(C.b)((function(e){return{isAuthenticated:null!==e.auth.token&&"undefined"!==typeof e.auth.token,token:e.auth.token}}),(function(e){return{setAuthenticatedIfRequired:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(I());else{var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(I()):(e(H(t)),e(U(n.getTime()-(new Date).getTime())))}}))},logout:function(){return e(I())}}}))((function(e){return console.log("APP > ",e),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,Object(_.a)({},e))})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(15),y=n(37),W={error:null,loading:!1,token:null},G=function(e,t){return Object(_.a)(Object(_.a)({},e),t)},K=function(e,t){return G(e,{error:null,loading:!0})},M=function(e,t){return G(e,{error:null,loading:!1,token:t.token,authreducerwashere:"yeet"})},F=function(e,t){return G(e,{error:t.error,loading:!1})},J=function(e,t){return G(e,{token:null})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return K(e);case D:return M(e,t);case m:return F(e,t);case x:return J(e);default:return e}},B=Object(N.b)({auth:V}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.c,q=Object(N.d)(B,Y(Object(N.a)(y.a)));i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(C.a,{store:q,children:Object(u.jsx)(L,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.0af81d93.chunk.js.map